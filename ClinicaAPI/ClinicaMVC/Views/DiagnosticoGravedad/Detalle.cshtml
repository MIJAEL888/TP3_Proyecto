@using ClinicaUtil
@model ClinicaMVC.Models.DiagnosticoGravedadViewModel

<div class="row">
    <div class="col-md-6">
        <dl class="dl-horizontal">
            <dt>Paciente: </dt>
            <dd>@Model.IngresoSalidaPaciente.Solicitud.HistoriaClinica.Paciente.Nombre</dd>
            <dt>Grupo Sangineo: </dt>
            <dd>@Model.IngresoSalidaPaciente.Solicitud.HistoriaClinica.GrupoSangineo</dd>
        </dl>
    </div>
    <div class="col-md-6">
        <dl class="dl-horizontal">
            <dt>Diagnostico: </dt>
            <dd>@Model.IngresoSalidaPaciente.Solicitud.HistoriaClinica.Diagnostico.Nombre </dd>
            <dt>Tratamiento: </dt>
            <dd>@Model.IngresoSalidaPaciente.Solicitud.HistoriaClinica.Tratamiento.Nombre</dd>
        </dl>
    </div>
</div>
<div class="row">
    <div class="col-xs-12">
        <div class="box">
            <div class="box-header">
                <h3 class="box-title">Diagnosticos registrados:</h3>

                @*<div class="box-tools">
                    <div class="input-group input-group-sm" style="width: 150px;">
                        <input type="text" name="table_search" class="form-control pull-right" placeholder="Search">

                        <div class="input-group-btn">
                            <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                        </div>
                    </div>
                </div>*@
            </div>
            <!-- /.box-header -->
            <div class="box-body table-responsive no-padding">
                <table class="table table-hover">
                    
                    <tr>
                        <th>ID</th>
                        <th>Fecha</th>
                        <th>Doctor</th>
                        <th>Nivel de criticidad</th>
                        <th>Observacion</th>
                    </tr>
                    @foreach (var diagnostico in Model.DiagnosticoGravedades)
                    {
                        var claseSpanNivel = "label-primary";
                        switch (diagnostico.NivelCriticidad.Codigo)
                        {
                            case Constantes.NivelCriticidad.Observacion:
                                claseSpanNivel = "label-success";
                                break;
                            case Constantes.NivelCriticidad.VigilanciaActiva:
                                claseSpanNivel = "label-primary";
                                break;
                            case Constantes.NivelCriticidad.VigilanciaIntensiva:
                                claseSpanNivel = "label-warning";
                                break;
                            case Constantes.NivelCriticidad.TerapeuticaIntensiva:
                                claseSpanNivel = "label-danger";
                                break;
                        }
                        <tr>
                            <td>@diagnostico.Id</td>
                            <td>@diagnostico.FechaRegistro.ToString("MM-dd HH:mm")</td>
                            <td>@diagnostico.Empleado.Cargo - @diagnostico.Empleado.Persona.Nombre @diagnostico.Empleado.Persona.Apellido</td>
                            <td><span class="label @claseSpanNivel">@diagnostico.NivelCriticidad.Nombre</span></td>
                            <td>@diagnostico.Observacion</td>
                        </tr>
                    }
                </table>
            </div>
            <!-- /.box-body -->
        </div>
        <!-- /.box -->
    </div>
</div>